<head>
  <title>continuous-swiss</title>
</head>

<body>
  <form class="addPlayer">
    <input type="text" name="playerName" placeholder="New player name">
  </form>
  <button type="button" class="clear">Clear DB</button>

  <div class="container">
    <div class="column">
      <h3>Playing</h3>
      {{#each playing}}
        <form class="winPlayer">
          <input type="hidden" name="pairingId" value="{{_id}}"> 
          <label><input type="radio" name="winner" value="player1"> {{player1Name}}</label><br/>
          <label><input type="radio" name="winner" value="player2"> {{player2Name}}</label><br/>
          <button type="submit">Submit</button>
        </form>
      {{/each}}

      <h3>Waiting</h3>
      {{#each waiting}}
        {{> pairing}}
      {{/each}}

      <h3>Matchmaking</h3>
      {{#each matchmaking}}
        {{> player}}
      {{/each}}

      <h3>Unqueued</h3>
      {{#each unqueued}}
        <form class="queuePlayer">
          <input type="hidden" name="playerId" value="{{_id}}">
          {{name}} <button type="submit">Queue</button>
        </form>
      {{/each}}
    </div>
    <div class="column">
      <h3>Standings</h3>
      <table class="standings">
        <thead>
          <tr><td>Name</td><td>Score</td><td>W</td><td>L</td></tr>
        </thead>
        <tbody>
          {{#each standings}}
            <tr>
              <td>{{name}}</td>
              <td>{{score}}</td>
              <td>{{wins}}</td>
              <td>{{losses}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</body>

<template name="player">
  <div>{{name}}</div>
</template>

<template name="pairing">
  <div>{{player1Name}}, {{player2Name}}</div>
</template>
